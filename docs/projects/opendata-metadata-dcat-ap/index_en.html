<!doctype html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>OpenData and Metadata | Ideation &amp; Prototyping Lab</title>
        <meta name="description" content="With the implementation of new laws and regulations for fostering the publication of open data in Germany the number of open data sets is steadly growing. In order to create sustainable data management structures and for increasing the data's machinereadability, accessability and findability good meta data is required. The new German standard for meta data DCAT-AP.de is a first step in the right direction.">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <link type="text/plain" rel="author" href="../../humans.txt" />
        <link rel="manifest" href="../../site.webmanifest">
        <link rel="apple-touch-icon" href="../../icons/icon.png">

        <link rel="icon" type="image/png" href="../../icons/favicon-alpha-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="../../icons/favicon-alpha-96x96.png" sizes="96x96">
        <link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico">

        <meta name="generator" content="NodeJS,GRUNT">
        <meta name="robots" content="index, follow">
        <link rel="alternate" type="application/rss+xml" title="Ideation &amp; Prototyping Lab | Feed" href="http://lab.technologiestiftung-berlin.de/feed_en.xml" />
        <meta http-equiv="content-language" content="en">

        <!-- FACEBOOK -->
        <meta property="fb:app_id" content="487094758334595">
        <meta property="og:url" content="http://lab.technologiestiftung-berlin.de/projects/opendata-metadata-dcat-ap/index.html">
        <meta property="og:type" content="website">
        <meta property="og:title" content="OpenData and Metadata">
        <meta property="og:image" content="http://lab.technologiestiftung-berlin.de/projects/opendata-metadata-dcat-ap/social_media.jpg">
        <meta property="og:description" content="With the implementation of new laws and regulations for fostering the publication of open data in Germany the number of open data sets is steadly growing. In order to create sustainable data management structures and for increasing the data's machinereadability, accessability and findability good meta data is required. The new German standard for meta data DCAT-AP.de is a first step in the right direction.">
        <meta property="og:site_name" content="Ideation &amp; Prototyping Lab">
        <meta property="article:author" content="Sebastian Meier">

        <!-- TWITTER -->
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@TSBBerlin">
        <meta name="twitter:creator" content="@seb_meier">
        <meta name="twitter:url" content="http://lab.technologiestiftung-berlin.de/projects/opendata-metadata-dcat-ap/index.html">
        <meta name="twitter:title" content="OpenData and Metadata">
        <meta name="twitter:description" content="With the implementation of new laws and regulations for fostering the publication of open data in Germany the number of open data sets is steadly growing. In order to create sustainable data management structures and for increasing the data's machinereadability, accessability and findability good meta data is required. The new German standard for meta data DCAT-AP.de is a first step in the right direction.">
        <meta name="twitter:image" content="http://lab.technologiestiftung-berlin.de/projects/opendata-metadata-dcat-ap/social_media.jpg">

        <!-- GOOGLE+/SCHEMA.ORG -->
        <meta itemprop="name" content="OpenData and Metadata">
        <meta itemprop="description" content="With the implementation of new laws and regulations for fostering the publication of open data in Germany the number of open data sets is steadly growing. In order to create sustainable data management structures and for increasing the data's machinereadability, accessability and findability good meta data is required. The new German standard for meta data DCAT-AP.de is a first step in the right direction.">
        <meta itemprop="image" content="http://lab.technologiestiftung-berlin.de/projects/opendata-metadata-dcat-ap/social_media.jpg">

        <!-- CANONICAL URL -->
        <link rel="canonical" href="http://lab.technologiestiftung-berlin.de/projects/opendata-metadata-dcat-ap/index.html">
        <!--<link rel="shortlink" href="tsblab.de/projects/PROJECT">-->

        <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,300i|Barlow:400,400i,700,700i" rel="stylesheet">
        <meta name="theme-color" content="#1e3791">
        <link href="../../js/prism/prism.css" rel="stylesheet" />
        <link rel="stylesheet" href="../../css/style.css">
    </head>
    <body class="project">
        <header id="page-head">
            <div class="container">
                <div class="left">
                    <div id="minilogo"><svg viewBox="0 0 254 190" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(-1875.000000, -2479.000000)" stroke-linecap="round" stroke-linejoin="round"><g transform="translate(1875.000000, 2478.000000)" fill="#000000" fill-rule="nonzero" stroke-width="7"><g id="logo" transform="translate(128.500000, 100.500000) rotate(4.000000) translate(-128.500000, -100.500000) translate(7.000000, 9.000000)"><path d="M0.316967317,116.55394 L61.6724044,179.221053" stroke="#6ECDF5"></path><path d="M61.6724044,179.221053 L232.546021,4.8771611" stroke="#6ECDF5"></path><path d="M0.316967317,116.55394 L233.101334,4.23466223" stroke="#6ECDF5"></path><path d="M1.51109571,116.469957 L203.326978,154.172387" stroke="#6ECDF5"></path><path d="M233.101334,4.23466223 L203.285227,153.57188" stroke="#6ECDF5"></path><path d="M203.924042,154.130395 L239.525752,116.998677" stroke="#6ECDF5"></path><path d="M239.525752,116.998677 L78.6538161,0.61431818" stroke="#6ECDF5"></path><path d="M16.3120027,125.946118 L78.6538161,0.61431818" stroke="#6ECDF5"></path><path d="M15.6568751,125.27333 L43.1256029,182.634752" stroke="#E60433"></path><path d="M43.1256029,182.634752 L200.909747,6.01962679" stroke="#E60433"></path><path d="M15.6568751,125.27333 L200.909747,6.01962679" stroke="#E60433"></path><path d="M15.6568751,125.27333 L221.975051,144.339786" stroke="#E60433"></path><path d="M200.909747,6.01962679 L221.975051,144.339786" stroke="#E60433"></path><path d="M221.975051,144.339786 L242.948866,114.17657" stroke="#E60433"></path><path d="M242.948866,114.17657 L73.0003868,18.307288" stroke="#E60433"></path><path d="M15.6568751,125.27333 L73.0003868,18.307288" stroke="#E60433"></path></g></g></g></svg></div>
                    <span>
                        <a class="lab-logo" href="http://lab.technologiestiftung-berlin.de">Ideation&nbsp;&amp; Prototyping&nbsp;Lab</a><br />
                        <a href="http://www.technologiestiftung-berlin.de">Technologiestiftung Berlin</a>
                    </span>
                </div>
                <div class="right">
                    <nav id="page-nav">
                        <ul>
                            <li><a href="http://lab.technologiestiftung-berlin.de">Back to the Lab</a>&nbsp;<span class="arrow">&#8614;</span></li>
                            <li class="lang"><a href="http://lab.technologiestiftung-berlin.de/projects/opendata-metadata-dcat-ap/index_en.html">Deutsch</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </header>
        <main>
            <div id="title">
                <div class="container">
                    <span class="button tag">Knowledge</span>
                    <h1>OpenData and Metadata</h1>
                    <span class="title-subline">Sebastian Meier (<a href="https://twitter.com/seb_meier">@seb_meier</a>) | 01/11/2018</span>
                </div>
            </div>

            <!-- Start editing here -->

            <div class="container p-bottom">
                <h2>Metadaten â€” An Introduction</h2>
                <p class="copy p-bottom">
                    Metadata contains additional descriptive information about other datasets. Metadata is nothing new, digital images and music, for example, already contain additional metadata for many years. In the case of media files, meta data is containing information on the author or artist, year of publication, genre and in the case of music if it belongs to an album or collection. Using those additional bits of information, data can be put in context, connections between individual items can be established and files can be organized and searched. Similar motives drive the implementation of metadata for open data. Publishing data sets as machine-readable open data on public data portals is only a first step, only if this data is complemented with standardised and detailed metadata it becomes a cornerstone to an transparent and sustainable digital infrastructure. In the following paragraphs the new German open data standard DCAT-AP.de will be discussed and explained using applied examples to demonstrate the need and demand for good meta data.
                </p>
                <h2>DCAT-AP.de</h2>
                <p class="copy">
                    DCAT is short for Data Catalogue Vocabulary and AP stands for Application Profile. DCAT-AP is a European standard for describing data sets. DCAT-AP.de is the German adoption of the standard (specifically the vocabulary). So even if you are using DCAT-AP or another national adoption, the following article might still be a useful introduction to the topic. DCAT-AP.de can be broken down into to components: 1) The <strong>structure</strong> of a metadata file, which parameters to include in a metadata description, for example, the URL to the data set or the license. 2) A <strong>controlled vocabulary</strong> which should be used to describe meta data, for example, license type or spatial granularity (national or city data). When using the standard the committee suggests a minimum version of attributes to include (LINK MIN). This light version can be extended depending on data type and available information (LINK MAX). The metadata can be provided in the machine-readable formats XML, RDF and JSON. Definitions of each attribute and its vocabulary can be found on www.DCAT-AP.de.
                </p>
            </div>

            <div class="container small p-bottom">
                <h3>DCAT-AP Minimum Version</h3>
                <pre><code class="language-json">
{
    "dcat:Catalog": {
        "dct:title": ["Transparenzportal Hamburg"],
        "dct:description": ["Das Transparenzportal Hamburg ist das ..."],
        "dct:publisher": {"foaf:name": "Freie und Hansestadt Hamburg"},
        "dcat:dataset": ["https://www.govdata.de/web/guest/suchen/..."]
    },
    "dcat:Dataset": [{
        "dct:identifier": ["https://www.govdata.de/web/guest/suchen/..."],
        "dct:title": ["NaturrÃ¤ume Geest und Marsch"],
        "dct:description": ["Die Zuordnung des Hamburger Stadtgebietes..."],
        "dcatde:contributorID": ["http://dcat-ap.de/def/contributors/..."],
        "dcat:distribution": ["http://geodienste.hamburg.de/HH_WFS_..."],
        "dct:license": ["http://dcat-ap.de/def/licenses/dl-by-de/2.0/"]
    }]
}
                </code></pre>
                <p class="copy">
                    The metadata descriptions according to DCAT-AP are split up into multiple main components. In the minimum variant, this are the two elements <i>dcat:Catalog</i> and <i>dcat:Dataset</i>. <i>dcat:Catalog</i> is describing the catalogue the data set belongs to, for example the open data portal Berlin or in the example above Hamburg. All attributes within in this element (besides dcat:dataset) specifically describe the overall catalogue or portal not the individual item. <i>dcat:Dataset</i> is in contrast describing the specific data set in question. In addition there are multiple other main components, for example, <i>dcat:Distribution</i>.
                </p>
            </div>

            <div class="container small p-bottom">
                <h2>Applications</h2>
                <p class="copy p-bottom">
                    While the minimum variant only contains essential attributes like title, description, license, URLs and information on the contributor of the data, the full strength of the metadata standard unfolds when additional attributes are added. In the following a few examples for such additional attributes are being explored.
                </p>
                <h3>Temporal Description</h3>
                 <pre><code class="language-json">
{
    "dcat:Catalog": {
        "dct:issued": "2017-03-10T10:00:00",
        "dct:modified": "2017-07-15T11:05:00"
    },
    "dcat:Dataset": [{
        "dct:issued": "2017-02-27",
        "dct:modified": "2017-07-15T11:05:00",
        "dct:accrualPeriodicity": "http://dcat-ap.de/def/changefrequency/yearly",
        "dct:temporal": [
            {
                "schema:startDate": "2016-01-01",
                "schema:endDate": "2016-12-31"
            }
        ]
    }]
}
                </code></pre>
                <p class="copy p-bottom">
                    <i>dct:issued</i> and <i>dct:modified</i> describe when a catalogue or data set was created and last modified. Using this information users can determine if their data is still up to date or if it needs updating. <i>dct:accrualPeriodicity</i> lets the users know in which intervals the data is being updated. For a sustainable and long lasting relationship between data providers and consumers a transparent and reliable documentation of data provision processes is important. By describing, for example, update intervals, users can streamline their processes accordingly. 
                </p>
                <p class="copy p-bottom">
                    <i>dct:temporal</i> on the other hand is not describing the data file, but instead, the data contained in the file. Using <i>schema:startDate</i> and <i>schema:endDate</i> the <i>dct:temporal</i> attribute defines the temporal duration described by the data set. Making use of this information users can find data sets for the same temporal period without analysing the overall data set itself. Search engines for open data can use this data to optimize the user experience of finding the optimal data sources.
                </p>
                <p class="copy">
                    To underline the importance of such temporal attributes for describing the contained data, the following visualisation shows a sample of data sets from Berlin's and Brandenburg's office for statistics and the temporal periods they describe. In some cases, for example, election and census the data is only available for the years in which the events happened. In other cases like the BQFG (determination of job qualification law) or the trainee program (Auszubildende) the statistical methods have changed over the years and therefore to time series data sets are available. And sometimes the digitization of data does not go back long enough or the data is released later.
                </p>
            </div>
            <div class="special-section">
                <svg id="temporal-overlaps" style="width:100%;height:200px;"></svg>
            </div>
            <div class="container small">
                <h3>Spatial Description</h3>
                 <pre><code class="language-json">
{
    "dcat:Catalog": {
        "dct:spatial": ["http://www.geonames.org/2911298/"]
    },
    "dcat:Dataset": [{
        "dcatde:politicalGeocodingLevelURI": [
            "http://dcat-ap.de/def/politicalGeocoding/Level/state"
        ],
        "dcatde:politicalGeocodingURI": [
            "http://dcat-ap.de/def/politicalGeocoding/stateKey/11"
        ],
        "dcatde:geocodingText": ["Freie und Hansestadt Hamburg"],
        "dct:spatial": [
            {
                "type": "Polygon",
                "crs": "urn:ogc:def:crs:OGC:1.3:CRS84",
                "coordinates": "[[[10.326304,53.394985], [10.326304,53.964153], [8.420551,53.964153], [8.420551,53.394985], [10.326304,53.394985]]]"
            }
        ]
    }]
}
                </code></pre>
                <p class="copy p-bottom">
                    Similar to the temporal description, the spatial attributes are also organised in two layers. The catalogue itself is georeferenced through a Geoname ID, describing the catchment area of the catalogue using the attribute <i>"dct:spatial"</i>. Geonames is an open database for spatial descriptors. On the second level the actual data itself is described. The granularity of the data is defined through <i>dcatde:politicalGeocodingLevelURI</i>. At the moment possible values are EU, national, federal state, districts and cities. Through <i>dcatde:politicalGeocodingURI</i> a predefined ID can be assigned (for Berlin, for example, it would be 11). An additional textual description of the area can be provide making use of <i>dcatde:geocodingText</i>. More detailed and more interesting for computational processing is the <i>dct:spatial</i> attribute. The latter can provide spatial information, for example, a polygon. The simplest example would be a bounding box (see graphic below). Making use of the spatial information users can search for data sets of similar spatial extent in order to combine them.
                </p>
            </div>
            <div class="special-section">
                <svg id="spatial-overlaps" style="width:100%;height:500px;" width="100%" preserveAspectRatio="xMidYMid meet"></svg>
            </div>
            <div class="container small">
               <h3>Contact Information</h3>
                <pre><code class="language-json">
{
    "dcat:Dataset": [{
        "dcat:contactPoint": [{
            "vcard:fn": "Sebastian Meier",
            "vcard:hasEmail": "mailto:meier@technologiestiftung-berlin.de",
            "vcard:hasTelephone": "+49 30 209 69 99 42"
        }]
    }]
}
                </code></pre>
                <p class="copy p-bottom">
                    In order to allow users to get in touch with the responsible person, for example, in regards of license questions, the standard offers the possibility to include contact information.
                </p>
                <h3>Controlled Vocabulary</h3>
                <pre><code class="language-json">
{
    "dcat:Dataset": [{
        "dcatde:originator": [{
            "foaf:name": "Sebastian Meier",
            "dct:type": "http://inspire.ec.europa.eu/metadata-codelist/ResponsiblePartyRole/processor"
        }],
        "dct:license": [
            "http://dcat-ap.de/def/licenses/cc-by"
        ]
    }]
}
                </code></pre>
                <p class="copy p-bottom">
                    A standard which is applied by various data provider with heterogeneous backgrounds requires a controlled vocabulary in order ensure a sustainable and long lasting application of the standard. Controlled vocabularies are available for many of the DCAT-AP attributes, for example, a list of available licenses is provided. An item from the vocabulary is an URL, which points to the description of the term or the list of available terms on the DCAT-AP definition site. It is highly recommended to make use of the existing vocabulary. If a term is not yet included, one should try to get in touch with the committee and add the term to the next revision of the standard.
                </p>
                <h3>Additional Information</h3>
                <pre><code class="language-json">
{
    "dcat:Dataset": [{
        "dct:hasVersion": [
            "https://www.govdata.de/web/guest/suchen/-/details/naturraume-geest-und-marsch4"
        ],
        "dct:isVersionOf": [
            "https://www.govdata.de/web/guest/suchen/-/details/naturraume-geest-und-marsch2"
        ],
        "dct:language": [
            "http://publications.europa.eu/resource/authority/language/GER"
        ]
    }]
}
                </code></pre>
                <p class="copy">
                    In this introduction of the new metadata standard DCAT-AP.de we tried to shed some light on the advantages in regards to sustainable data infrastructures, usability and machine-readability. Besides the attributes highlighted in this article there are many more attributes from pointing out relationships to others versions of a files using (<i>dct:hasVersion</i> or <i>dct:isVersionOf</i>) to describing the language of the available information (<i>dct:language</i>). In some cases there will be redundancy between attributes, which is a feature not a bug. In order to incorporate as many use cases as possible such redundancies are a by-product. In everyday life, such metadata files will be written semi-automatically, for example, automatically filling in data about the data-provider.
                </p>
                <p class="copy">
                    More information and a complete documentation of all attributes available in the standard and additional documents are available here:
                </p>
                <ul class="p-bottom p-top">
                    <li><a href="#">LINK</a></li>
                    <li><a href="#">LINK</a></li>
                    <li><a href="#">LINK</a></li>
                    <li><a href="#">LINK</a></li>
                    <li><a href="#">LINK</a></li>
                </ul>
                <h2>Beispiele</h2>
                <p class="copy p-bottom">
                    The Technologiestiftung Berlin (Technology Foundation Berlin) is not a data provider in the metropolitan area of Berlin. But we regularly work with open data. When ever we refine and combine data, we would like the community to benefit from our work, therefore, we publish the refined data on our open data portal. Every data set on our site has an DCAT-AP.de metadata file. If you are interested in some applied examples check the files on our site. LINK
                </p>
                <img src="" alt="SCREENSHOT DATENPLATFORM" />
            </div>
            <div id="author" class="container small p-d-top">
                <img src="../../images/team/author_sebastianmeier.png" alt="Sebastian Meier" />
                <h3>About the Author</h3>
                <h2><a href="maito:meier@technologiestiftung-berlin.de">Sebastian Meier</a></h2>
                <p>Sebastian Meier is a data scientist at the Technologiestiftung Berlin. He graduated in Communication and Interface Design and is currently finishing his PhD in Geoinformatics at Potsdam University. His research focus lies on spatial data analytics and visualisation as well as human-centred perspectives on software interfaces.</p>
                <hr class="clear" />
            </div>

            <!-- Stop editing here -->

        </main>
        <footer id="contact">
            <div id="footer">
                <div class="container">
                    <a href="http://www.technologiestiftung-berlin.de"><img src="../../images/tsb-logo.png" alt="Technologiestiftung Berlin" /></a>
                    <div class="contact-meta">
                        GrunewaldstraÃŸe 61-62<br />
                        10825 Berlin<br />
                        +49 30 209 69 99-0<br />
                        <a href="mailto:info@technologiestiftung-berlin.de">info@technologiestiftung-berlin.de</a>
                    </div>
                    <div class="contact-social">
                        <a href=""><img src="../../images/twitter.png" alt=""></a>
                        <a href=""><img src="../../images/facebook.png" alt=""></a>
                    </div>
                </div>
            </div>
            <div id="end">
                <div class="container">
                    <div class="left">Â© Technologiestiftung Berlin 2017</div>
                    <div class="right">
                        <a href="https://www.technologiestiftung-berlin.de/de/stiftung/kontakt-anfahrt/" target="_blank">Contact</a>
                        &nbsp;|&nbsp;
                        <a href="https://www.technologiestiftung-berlin.de/de/impressum" target="_blank">Legal Notes</a>
                        &nbsp;|&nbsp;
                        <a href="https://www.technologiestiftung-berlin.de/de/datenschutz/" target="_blank">Privacy Notes</a>
                    </div>
                </div>
            </div>
        </footer>
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script src="../../js/prism/prism.js"></script>
        <script src="topojson-client.js"></script>
        <script type="text/javascript" src="../../js/min/script.min.js"></script>
        <!-- Add your custom JS files here and place them directly in your project folder -->
        <script type="text/javascript">

            var temporal = (function(){

                var data = [{label:'AuÃŸenwanderungen',start:2005,end:2015,interval:1},{label:'Binnenwanderungen',start:2005,end:2013,interval:1},{label:'Einwohnerregister',start:2007,end:2016,interval:1},{label:'Mikozensus',start:2005,end:2016,interval:1},{label:'Auszubildende KLdB1992',start:2010,end:2011,interval:1},{label:'Auszubildende KLdB2010',start:2012,end:2015,interval:1},{label:'BQFG v1',start:2012,end:2013,interval:1},{label:'BQFG v1',start:2014,end:2016,interval:1},{label:'Zensus',start:2011,end:2011,interval:1},{label:'Wahlen',start:2005,end:2013,interval:4}];

                var label_width = 150,
                    margin = 20,
                    lineHeight = 30,
                    start = d3.min(data, function(d){return d.start;}),
                    end = d3.max(data, function(d){return d.end;}),
                    height = (lineHeight*data.length + margin*3),
                    width = window.innerWidth,
                    barWidth = (width - 3.5*margin - label_width)/(end-start + 1),
                    labelData = [],
                    svg = d3.select('#temporal-overlaps').attr('height',height).style('height',height).append('g').attr('transform','translate('+margin+','+(margin*1.5)+')');

                data.forEach(function(d,c){
                    d['data'] = [];
                    for(var i = start; i<=end; i++){
                        if(c===0){
                            labelData.push(i);
                        }
                        if(d.interval == 1){
                            if(i>=d.start && i<=d.end){
                                d.data.push(true);
                            }else{
                                d.data.push(false);
                            }
                        }else if(d.interval == 4){
                            if(i>=d.start && i<=d.end && (i-d.start)%4==0){
                                d.data.push(true);
                            }else{
                                d.data.push(false);
                            }
                        }
                    }
                });

                function drawItems(){

                    var labels = svg.append('g').attr('transform','translate('+(label_width+margin)+',0)').selectAll('text').data(labelData).enter().append('text')
                        .attr('text-anchor','middle')
                        .attr('dx', function(d,i){ return i*barWidth + barWidth/2; })
                        .attr('dy', 12)
                        .text(function(d,i){
                            if(width < 420 && i%2){
                                return '';
                            }else if(width < 600){
                                return '\''+(d+'').substr(2,2);
                            }
                            return d;
                        })
                        .style('font-family','Helvetica,Arial,sans-serif')
                        .style('font-size',12);

                    var temporalItems = svg.selectAll('g').data(data).enter().append('g').attr('transform',function(d,i){return 'translate(0,'+(i*lineHeight)+')';});

                        temporalItems.append('text')
                            .text(function(d){return d.label})
                            .attr('text-anchor','end')
                            .attr('dx',label_width)
                            .attr('dy',lineHeight-12)
                            .style('font-family','Helvetica,Arial,sans-serif')
                            .style('font-size',12);

                        temporalItems.selectAll('rect').data(function(d){return d.data;}).enter().append('rect')
                            .attr('height', lineHeight-2)
                            .attr('width', barWidth-2)
                            .attr('y',1)
                            .attr('x',function(d,i){
                                return i*barWidth + label_width + margin + 1;
                            })
                            .style('opacity',0.5)
                            .style('fill', function(d){
                                if(d){
                                    return '#3192d0';
                                }
                                return 'rgba(0,0,0,0)';
                            });
                }

                var resizeTemporal = debounce(function() {
                    svg.selectAll('*').remove();
                    width = window.innerWidth;
                    barWidth = (width - 3.5*margin - label_width)/(end-start + 1);
                    drawItems();
                }, 250);

                window.addEventListener('resize', resizeTemporal);
                resizeTemporal();
            })();

            var spatial = (function(){

                // Prepare our physical space
                var svg = d3.select('#spatial-overlaps').attr("viewBox", "0 0 500 500"),
                    width = 500,
                    height = 500;

                var projection = d3.geoMercator()
                      .center([13.42, 52.51])
                      .scale(40000)
                      .translate([width / 2, height / 2]),
                    path = d3.geoPath().projection(projection);

                    d3.json("Bezirk.topojson", function(error, topo) {
                      if (error) throw error;

                      svg.append('path').attr('d', path(topojson.mesh(topo)))
                      .style('fill','transparent')
                      .style('stroke','black');

                        var b = path.bounds(topojson.mesh(topo));
                        svg.append('rect')
                            .attr('x',b[0][0])
                            .attr('y',b[0][1])
                            .attr('width',(b[1][0]-b[0][0]))
                            .attr('height',(b[1][1]-b[0][1]))
                            .style('fill','transparent')
                            .style('stroke','#000')
                            .style('stroke-dasharray','5, 5');

                        svg.append('text')
                            .text('Berlin - Bounding Box')
                            .attr('x',b[0][0])
                            .attr('y',b[0][1])
                            .attr('dy',-4)
                            .style('font-family','Helvetica,Arial,sans-serif')
                            .style('font-size',12);
                    });

                var resizeSpatial = debounce(function() {
                    if(window.innerWidth < 500){
                        svg.style('height', window.innerWidth);
                    }
                }, 250);

                window.addEventListener('resize', resizeSpatial);
                resizeSpatial();

            })();

        </script>
    </body>
</html>